- title '{first_name} and {second_name}'[:user_and_user, h(@team_members.first.name), h(@team_members.last.name)], :show => true

#graph
  %h3= 'Ranking chart'[]
  - form_tag game_team_path(current_game, @ids.join(',')), :method => :get do
    = select_tag('period', options_for_select(time_periods, @time_period), :onchange => 'this.form.submit();')
    = submit_tag 'Update'[]

  .legend
    - @team_members.sort_by(&:id).each_with_index do |player, index|
      .player
        %span.color{ :style => "background-color: #{colors[index]}" }
        %span.name= player.name

  = graph(formatted_game_comparison_url(current_game, @ids.join('-'), :chart, :period => @time_period))

- content_for :sidebar do
  .team
    .members.clear
      - @team_members.each do |user|
        .mugshot
          - if user.mugshot
            = link_to image_tag(user.mugshot.public_filename(:thumb), :alt => h(user.name)), user
          = link_to h(user.name), user

    .matchlink= link_to image_tag('icons/game.png', :class => 'team', :alt => "Show this team's matches"[]) + ' ' + 'Show matches'[], game_matches_path(current_game, :filter => @ids.join(','))
      
    #opponents
      %h3= 'Opponents'[]
      - @opponents.each do |opponent|
        .opponent{ :class => cycle('even', 'odd') }
          .members
            = link_to Team.team_members(opponent.team_ids).collect { |user| h(user.display_name) }.join(', '), game_team_path(current_game, opponent.team_ids)
          %label= 'Matches'[] + ':'
          = opponent.matches
          %label= 'Won'[] + ':'
          = opponent.wins

- content_for :head do
  = javascript_include_tag 'swfobject'